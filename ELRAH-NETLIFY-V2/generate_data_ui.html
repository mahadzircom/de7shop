<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin DE7SHOP - Generate data.js</title>
<style>
    body { font-family: 'Poppins', sans-serif; background: #f0f8f0; padding: 20px; }
    h1 { text-align: center; color: #0f6b32; }
    .card { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 20px; }
    label { display: block; margin-top: 10px; font-weight: bold; }
    input[type=text], input[type=number] { width: 100%; padding: 10px; margin-top: 5px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; }
    .flex-row { display: flex; gap: 10px; margin-top: 5px; }
    button { padding: 10px 15px; margin-top: 15px; border:none; border-radius: 8px; cursor: pointer; font-weight: bold; }
    .add-btn { background: #0f6b32; color: #fff; }
    .generate-btn { background: #137f3b; color: #fff; width: 100%; }
    ul { list-style: none; padding: 0; }
    li { background: #e9f5e6; padding: 10px; border-radius: 8px; margin-top: 10px; display: flex; justify-content: space-between; align-items: center; }
    .remove-btn { background: #e53935; color: #fff; border: none; padding: 5px 10px; border-radius: 6px; cursor: pointer; }
    textarea { width: 100%; height: 300px; margin-top: 15px; border-radius: 10px; padding: 10px; font-family: monospace; font-size: 14px; }
</style>
</head>
<body>

<h1>Admin DE7SHOP - Generate data.js</h1>
<div class="card">
    <label>Nama Produk</label>
    <input type="text" id="prodName" placeholder="Contoh: Baju Melayu Daytona">
    <label>Harga (RM)</label>
    <input type="number" id="prodPrice" placeholder="Contoh: 189">

    <label>Warna (pisahkan dengan koma)</label>
    <input type="text" id="prodColors" placeholder="Contoh: BABY BLUE, NAVY BLUE">

    <label>Saiz (pisahkan dengan koma)</label>
    <input type="text" id="prodSizes" placeholder="Contoh: XS,S,M,L,XL,XXL">

    <button class="add-btn" onclick="addProduct()">Add Produk</button>
</div>

<div class="card">
    <h3>Senarai Produk</h3>
    <ul id="productList"></ul>
</div>

<div class="card">
    <button class="generate-btn" onclick="generateJS()">Generate data.js</button>
    <textarea id="output" readonly></textarea>
</div>

<script>
let produkArr = [];

function addProduct(){
    const name = document.getElementById('prodName').value.trim();
    const price = parseFloat(document.getElementById('prodPrice').value);
    const colors = document.getElementById('prodColors').value.split(',').map(c=>c.trim()).filter(c=>c);
    const sizes = document.getElementById('prodSizes').value.split(',').map(s=>s.trim()).filter(s=>s);

    if(!name || isNaN(price) || colors.length === 0 || sizes.length === 0){
        alert('Sila lengkapkan semua medan dengan betul!');
        return;
    }

    const key = name.toLowerCase().replace(/\s+/g,'_');
    produkArr.push({key,name,price,colors,sizes});
    updateList();
    clearInputs();
}

function updateList(){
    const list = document.getElementById('productList');
    list.innerHTML = '';
    produkArr.forEach((p,i)=>{
        const li = document.createElement('li');
        li.innerHTML = `${p.name} (RM${p.price}) <button class='remove-btn' onclick='removeProduct(${i})'>X</button>`;
        list.appendChild(li);
    });
}

function removeProduct(index){
    produkArr.splice(index,1);
    updateList();
}

function clearInputs(){
    document.getElementById('prodName').value = '';
    document.getElementById('prodPrice').value = '';
    document.getElementById('prodColors').value = '';
    document.getElementById('prodSizes').value = '';
}

function generateJS(){
    let jsText = '// data.js - generated by Admin DE7SHOP\n\nconst PRODUK = {\n';
    produkArr.forEach(p=>{
        jsText += `    ${p.key}: {\n        nama: "${p.name}",\n        harga: ${p.price},\n        warna: [${p.colors.map(c=>`"${c}"`).join(',')}],\n        saiz: [${p.sizes.map(s=>`"${s}"`).join(',')}]\n    },\n`;
    });
    jsText += '};';

    document.getElementById('output').value = jsText;
}
</script>

</body>
</html>
